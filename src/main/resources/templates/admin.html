<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
  <meta charset="UTF-8">
  <title>Admin panel</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <style>
    #btnAdmin {
      text-align: left !important;
      padding: 5px;
    }

    .table caption {
      border: inherit;
      background-color: lightgrey;
      caption-side: top;
      padding: 5px;
    }
  </style>
</head>
<body>
<div class="container-fluid">
  <nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
        <span class="navbar-brand">
            <b sec:authentication="name">Username</b>
            with roles
            <span sec:authentication="principal.authorities"></span>
        </span>
      <a class="btn btn-dark px-3 me-2" th:href="@{/logout}">
        Logout
      </a>
    </div>
  </nav>

  <br/>

    <div class="row flex-nowrap">
        <!-- left sidebar -->
        <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-light">
            <div class="d-flex flex-column">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a th:href="@{/admin/}" class="btn btn-primary col-12" id="btnAdmin">
                            Admin
                        </a>
                    </li>
                    <li class="nav-item">
                        <a th:href="@{/user/}" class="nav-link align-middle px-0">
                            User
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- end of left sidebar -->
        <!-- main content -->
        <div class="col py-3">
            <div class="row">
                <div class="col-md-12">
                    <h1> Admin panel </h1>
                </div>
            </div>
            <!-- tabs -->
            <nav class="nav nav-tabs">
                <a class="nav-link active" id="allUsersLink" data-toggle="tab" href="#allUsers">Users table</a>
                <a class="nav-link" id="newUserLink" data-toggle="tab" href="#newUser">New User</a>
            </nav>
            <div class="tab-content" style="background-color: white">
                <!-- all users tab content -->
                <div class="tab-pane active" id="allUsers">
                    <table id="usersTable" class="table table-striped">
                        <caption>All users</caption>
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Age</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Edit</th>
                            <th>Delete</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <!-- new user tab content -->
                <div class="tab-pane" id="newUser">
                    <div class="bg-light text-dark p-1">
                        <h5>Add new user</h5>
                    </div>
                    <div class="container h-100">
                        <div class="row h-100 justify-content-center align-items-center">
                            <div id="addUserDiv" class="col-10 col-md-8 col-lg-6 text-center fw-bold">
                                <div th:replace="addform"/>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="modal :: defaultModal"></div>

<script src="/webjars/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
<script src="/webjars/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="/webjars/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery.SPServices/2014.02/jquery.SPServices-2014.02.min.js"></script>

<script src="/js/main.js"></script>
</body>
</html>